    <!DOCTYPE html>
    <html lang="en">

    <!-- borrowing techniques from https://codepen.io/jonnowitts/pen/YdYjmd -->


    <script>

    uri = 'https://pathfindr-creator.coret.org/api/get_card/Q19328795'

    async function fetchData(uri) {
    try {
        const response = await fetch(uri);
        if (!response.ok) {
        throw new Error('Network response was not ok ' + response.statusText);
        }
        const fetchedData = await response.json();
        console.log(fetchedData);
        return fetchedData;
    } catch (error) {
        console.error('Error fetching data:', error);
    }
    }


    function init() {
        const cardFront = document.getElementById('card-front');
        const cardBack = document.getElementById('card-back');

        const customRenderers = {
            'streetname': {
                render: value => `<div class="card-streetname"><h2>${value}</h2></div>`,
                target: 'front'
            },
            'description': {
                render: value => `<div class="card-description"><p>${value}</p></div>`,
                target: 'front'
            },
            'image': {
                render: value => `<div class="card-image"><img src="${value}" alt="Image"></div>`,
                target: 'front'
            },
            'date': {
                render: value => `<div class="card-date"><time datetime="${value}">${new Date(value).toLocaleDateString()}</time></div>`,
                target: 'back'
            },
            'multiline': {
                render: value => ``,
                target: 'front'
            },
            'identifier': {
                render: value => ``,
                target: 'front'
            }
        };

        fetchData(uri).then(data => {
            for (let key in data) {
                if (data.hasOwnProperty(key)) {
                    let htmlContent;
                    let targetElement = cardFront;

                    if (customRenderers[key]) {
                        htmlContent = customRenderers[key].render(data[key]);
                        targetElement = customRenderers[key].target === 'back' ? cardBack : cardFront;
                    } else {
                        htmlContent = `<div class="card-${key}"><span>${data[key]}</span></div>`;
                    }

                    targetElement.innerHTML += htmlContent;
                }
            }

            console.log('Data received:', data);
        });
    }


    </script>
    
    <head>
        <meta charset="UTF-8">
        <title>Collector Card Flip</title>
        <link rel="stylesheet" type="text/css" href="animation.css">
        <link rel="stylesheet" type="text/css" href="card-elements.css">
    </head>
    <body  onload="init()">

    <h1>Street card example <span>(Click to flip!)</span></h1>
    <div class="card-scene">
        <div id="card" class="card">
            <div id="card-back" class="card-face card-back">
                <!-- Back content goes here --> 
            </div>
            <div id="card-front" class="card-face card-front">
                <!-- Front content goes here -->
            </div>
        </div>
    </div>

    <script>
        const card = document.getElementById('card');
        let isFlipped = false;

        card.addEventListener('click', () => {
            if (isFlipped) {
                card.classList.remove('card--flipped');
                card.classList.add('card--unflipped');
            } else {
                card.classList.remove('card--unflipped');
                card.classList.add('card--flipped');
            }
            isFlipped = !isFlipped;
        });
    </script>

    </body>
    </html>
